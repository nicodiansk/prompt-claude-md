{
  "permissions": {
    "allow": [
      "Bash(python:*)",
      "mcp__supabase__list_tables",
      "mcp__supabase__list_migrations",
      "Bash(git add:*)",
      "Bash(git tag:*)",
      "Bash(git push:*)",
      "WebSearch",
      "Bash(git -C \"C:\\\\Users\\\\nicho\\\\PycharmProjects\\\\HYPERHUMAN\" log --oneline -10)",
      "Bash(git -C \"C:\\\\Users\\\\nicho\\\\PycharmProjects\\\\HYPERHUMAN\" status --short)",
      "Bash(git -C \"C:\\\\Users\\\\nicho\\\\PycharmProjects\\\\HYPERHUMAN\" add docs/plans/2025-12-22-scan-duplication-temporal-evolution.md)",
      "Bash(git -C \"C:\\\\Users\\\\nicho\\\\PycharmProjects\\\\HYPERHUMAN\" commit -m \"docs: add scan duplication feature implementation plan\")",
      "mcp__supabase__apply_migration",
      "mcp__supabase__execute_sql",
      "Bash(git commit:*)",
      "Bash(git -C \"C:\\\\Users\\\\nicho\\\\PycharmProjects\\\\HYPERHUMAN\" add:*)",
      "Bash(git -C \"C:\\\\Users\\\\nicho\\\\PycharmProjects\\\\HYPERHUMAN\" commit -m \"feat: add rerun/duplicate endpoints and job series models\n\n- Add job_series_id and series_run_number to CrawlJobStatus\n- Add JobSeriesInfo, CampaignTemporalStatus, LandscapeDiff models\n- Implement POST /{id}/rerun endpoint \\(same series, auto-execute\\)\n- Implement POST /{id}/duplicate endpoint \\(new series, manual execute\\)\n- Add tests for rerun/duplicate endpoints\")",
      "Bash(npm run typecheck:*)",
      "Bash(npx tsc:*)",
      "Bash(git -C \"C:/Users/nicho/PycharmProjects/HYPERHUMAN\" status --short)",
      "Bash(git -C \"C:/Users/nicho/PycharmProjects/HYPERHUMAN\" add frontend/types/index.ts frontend/lib/api.ts frontend/components/crawl-jobs/JobHistorySection.tsx frontend/components/crawl-jobs/SeriesEvolutionSheet.tsx)",
      "Bash(git -C \"C:/Users/nicho/PycharmProjects/HYPERHUMAN\" add -f frontend/types/index.ts frontend/lib/api.ts frontend/components/crawl-jobs/JobHistorySection.tsx frontend/components/crawl-jobs/SeriesEvolutionSheet.tsx)",
      "Bash(git -C \"C:/Users/nicho/PycharmProjects/HYPERHUMAN\" diff --cached --stat)",
      "Bash(git -C \"C:/Users/nicho/PycharmProjects/HYPERHUMAN\" commit -m \"$\\(cat <<''EOF''\nfeat\\(frontend\\): add scan duplication and series evolution UI\n\n- Add JobSeriesInfo, CampaignTemporalStatus, LandscapeDiff types\n- Add job_series_id and series_run_number to CrawlJob type\n- Add API client methods for rerun, duplicate, and series endpoints\n- Add Re-run and Duplicate buttons to JobHistorySection\n- Add series badge \\(Run #N\\) with clickable evolution view\n- Create SeriesEvolutionSheet component for temporal tracking\nEOF\n\\)\")",
      "Bash(git -C \"C:/Users/nicho/PycharmProjects/HYPERHUMAN\" log --oneline -10)",
      "Bash(poetry run python:*)",
      "Bash(curl:*)",
      "Bash(git -C \"C:/Users/nicho/PycharmProjects/HYPERHUMAN\" diff backend/app/services/crawl_orchestrator.py backend/app/services/job_series_analytics.py)",
      "Bash(git -C \"C:/Users/nicho/PycharmProjects/HYPERHUMAN\" add backend/app/services/crawl_orchestrator.py backend/app/services/job_series_analytics.py)",
      "Bash(git -C \"C:/Users/nicho/PycharmProjects/HYPERHUMAN\" commit -m \"fix: series analytics includes original job, presence uses correct schema\n\n- Fix job_series_analytics to include original job \\(id = series_id\\) in series queries\n- Fix _record_campaign_presence to only insert columns that exist in schema\n- Remove non-existent first_seen_at/last_seen_at from presence insert\")",
      "Bash(git -C \"C:/Users/nicho/PycharmProjects/HYPERHUMAN\" log --oneline -5)",
      "Bash(poetry run uvicorn:*)",
      "Bash(git -C \"C:/Users/nicho/PycharmProjects/HYPERHUMAN\" diff --stat backend/app/api/campaigns.py backend/app/models/campaigns.py frontend/app/campaigns/page.tsx frontend/types/index.ts)",
      "Bash(git -C \"C:/Users/nicho/PycharmProjects/HYPERHUMAN\" add frontend/components/campaigns/ScanSection.tsx frontend/app/campaigns/page.tsx frontend/types/index.ts backend/app/api/campaigns.py backend/app/models/campaigns.py)",
      "Bash(git -C \"C:/Users/nicho/PycharmProjects/HYPERHUMAN\" commit -m \"$\\(cat <<''EOF''\nfeat\\(frontend\\): add campaigns page grouped view by scan\n\n- Add ScanSection component with scan header and campaign grid\n- Add viewMode toggle \\(grouped/flat\\) with grouped as default\n- Group campaigns by crawl_job_id for visual organization\n- Wire up SeriesEvolutionSheet from scan section headers\n- Add crawl_job_id field to Campaign type \\(frontend/backend\\)\nEOF\n\\)\")",
      "Bash(tasklist:*)",
      "Bash(taskkill:*)",
      "Bash(git checkout:*)",
      "Bash(git merge:*)",
      "Bash(git branch:*)",
      "Bash(git -C \"C:/Users/nicho/PycharmProjects/HYPERHUMAN\" log --oneline develop -5)",
      "Bash(C:/Users/nicho/PycharmProjects/HYPERHUMAN/frontend/node_modules/.bin/tsc:*)",
      "Bash(git -C \"C:/Users/nicho/PycharmProjects/HYPERHUMAN\" add backend/app/models/intelligence.py backend/app/services/scope_intelligence.py frontend/types/index.ts frontend/components/dashboard/MarketDynamicsCard.tsx)",
      "Bash(ls:*)",
      "Bash(git -C \"C:/Users/nicho/PycharmProjects/HYPERHUMAN\" branch)",
      "Bash(git -C \"C:/Users/nicho/PycharmProjects/HYPERHUMAN\" add backend/app/api/dashboard.py frontend/app/dashboard/page.tsx frontend/components/dashboard/DashboardFilters.tsx frontend/components/dashboard/DimensionGapChart.tsx frontend/components/dashboard/TopCampaignsModal.tsx frontend/lib/api.ts)",
      "Bash(git -C \"C:/Users/nicho/PycharmProjects/HYPERHUMAN\" add -f backend/app/api/dashboard.py frontend/app/dashboard/page.tsx frontend/components/dashboard/DashboardFilters.tsx frontend/components/dashboard/DimensionGapChart.tsx frontend/components/dashboard/TopCampaignsModal.tsx frontend/lib/api.ts)",
      "Bash(git -C \"C:/Users/nicho/PycharmProjects/HYPERHUMAN\" commit -m \"$\\(cat <<''EOF''\nfix: Business Scope selection now filters dashboard data \\(Issue #7\\)\n\n- Add business_scope_id parameter to all 6 dashboard API endpoints\n- Add helper function to get campaign_version IDs for business scope\n- Update DashboardFilters to expose businessScopeId via props\n- Update dashboard page to track and pass businessScopeId state\n- Update API client functions with businessScopeId parameter\n- Update DimensionGapChart and TopCampaignsModal with businessScopeId\n- Vertical filter takes precedence over business scope when both selected\nEOF\n\\)\")",
      "Bash(git -C \"C:/Users/nicho/PycharmProjects/HYPERHUMAN\" diff --stat backend/app/services/crawl_orchestrator.py)",
      "Bash(git -C \"C:/Users/nicho/PycharmProjects/HYPERHUMAN\" add backend/app/services/crawl_orchestrator.py)",
      "Bash(git -C \"C:/Users/nicho/PycharmProjects/HYPERHUMAN\" commit -m \"fix: use business_scope_id instead of obsolete scope_id in crawl orchestrator\n\nChanged job[\"\"scope_id\"\"] to self.business_scope_id at line 832 to match\nthe 3-tier hierarchy refactoring. The field was already correctly loaded\nat line 783.\")",
      "mcp__supabase__get_logs",
      "Bash(git -C \"C:/Users/nicho/PycharmProjects/HYPERHUMAN\" commit -m \"fix: remove obsolete scope_id from campaign_versions insert\n\nThe campaign_versions table no longer has a scope_id column after the\n3-tier hierarchy refactoring. This was causing all version inserts to\nfail with ''column scope_id does not exist'', triggering rollbacks that\ndeleted newly created campaigns. This explains why jobs showed 37\n''NEW CAMPAIGN'' logs but 0 campaigns in the database.\")",
      "Bash(git -C \"C:/Users/nicho/PycharmProjects/HYPERHUMAN\" diff --stat frontend/)",
      "Bash(git -C \"C:/Users/nicho/PycharmProjects/HYPERHUMAN\" add frontend/app/campaigns/page.tsx frontend/components/crawl-jobs/JobHistorySection.tsx)",
      "Bash(git -C \"C:/Users/nicho/PycharmProjects/HYPERHUMAN\" commit -m \"fix: add missing optional chaining for keywords array access\n\nFixed incomplete optional chaining that caused ''Cannot read properties\nof undefined \\(reading keywords\\)'' errors when job.keywords was undefined.\nBoth campaigns page and JobHistorySection now use proper ?. chaining.\")",
      "Bash(git -C \"C:/Users/nicho/PycharmProjects/HYPERHUMAN\" add frontend/types/index.ts)",
      "Bash(git -C \"C:/Users/nicho/PycharmProjects/HYPERHUMAN\" commit -m \"fix: make CrawlJob.keywords optional for safer runtime handling\n\nChanged keywords from required to optional in TypeScript type definition\nto prevent runtime errors when job data is incomplete or job lookup fails.\")",
      "Bash(npm run dev:*)",
      "Bash(cat:*)",
      "Bash(git -C \"C:/Users/nicho/PycharmProjects/HYPERHUMAN\" add frontend/components/campaigns/ScanSection.tsx)",
      "Bash(git -C \"C:/Users/nicho/PycharmProjects/HYPERHUMAN\" commit -m \"fix\\(partial\\): add helper functions to avoid React Compiler cache check errors\n\nReact Compiler generates cache dependency checks without optional chaining\neven when source uses ?. properly. Extract job property access into helper\nfunctions with explicit guards. Fixed keywords error, job_id still remains.\")",
      "Bash(git -C \"C:/Users/nicho/PycharmProjects/HYPERHUMAN\" add:*)",
      "Bash(git -C \"C:/Users/nicho/PycharmProjects/HYPERHUMAN\" commit -m \"fix: React Compiler cache errors and image lazy loading optimization\n\nScanSection.tsx:\n- Extract all job property access to helper functions with explicit guards\n- Add getLandscapeDiffKey, getJobId, getSeriesRunNumber, getJobCompletedAt helpers\n- Prevents React Compiler from generating unsafe cache dependency checks\n- Fixes ''Cannot read properties of undefined'' when job is undefined\n\nCampaignCard.tsx:\n- Reduce priority images from 4 to 2 for faster initial load\n- Add explicit loading=''lazy'' for non-priority images\n- Add quality=70 to reduce image file sizes by ~30%\")",
      "Bash(git -C \"C:/Users/nicho/PycharmProjects/HYPERHUMAN\" diff --stat frontend/app/campaigns/page.tsx)",
      "Bash(git -C \"C:/Users/nicho/PycharmProjects/HYPERHUMAN\" add frontend/app/campaigns/page.tsx)",
      "Bash(git -C \"C:/Users/nicho/PycharmProjects/HYPERHUMAN\" commit -m \"fix: Business Scope and Vertical filters now work correctly\n\n- Add verticalNamesInScope memo to track vertical names in selected business scope\n- Add Business Scope filter to filteredCampaigns \\(was completely missing\\)\n- Fix handleBusinessScopeChange to compare v.name instead of v.vertical_id\n  \\(selectedVertical contains name, not ID\\)\n- Add selectedBusinessScope to pagination reset dependencies\")",
      "Bash(git -C \"C:/Users/nicho/PycharmProjects/HYPERHUMAN\" add frontend/app/campaigns/page.tsx frontend/components/campaigns/ScanSection.tsx)",
      "Bash(git -C \"C:/Users/nicho/PycharmProjects/HYPERHUMAN\" commit -m \"fix: prevent all images loading at once in grouped view\n\nScanSection.tsx:\n- Add isFirstSection prop to control priority image loading\n- Only first section''s first 2 images get priority, others lazy load\n- Add CAMPAIGNS_PER_SECTION_LIMIT \\(8\\) to limit initial render\n- Add ''Mostra tutte'' expand button for sections with more campaigns\n- Prevents rendering hundreds of DOM nodes at once\n\ncampaigns/page.tsx:\n- Pass isFirstSection={groupIndex === 0} to first ScanSection only\")",
      "Bash(git -C \"C:/Users/nicho/PycharmProjects/HYPERHUMAN\" add frontend/app/campaigns/page.tsx frontend/components/campaigns/CampaignCard.tsx frontend/components/campaigns/ScanSection.tsx)",
      "Bash(git -C \"C:/Users/nicho/PycharmProjects/HYPERHUMAN\" commit -m \"fix: disable broken Business Scope/Vertical filters, restore image loading\n\nThe backend API never populates scope_name on campaigns, causing these\nfilters to always filter out ALL campaigns. Disabled until backend is\nfixed to populate verticals array.\n\nAlso reverted CampaignCard priority to index < 4 \\(original working state\\).\")",
      "Bash(git -C \"C:/Users/nicho/PycharmProjects/HYPERHUMAN\" push origin feature/intelligence-quality-audit)",
      "Bash(git -C \"C:/Users/nicho/PycharmProjects/HYPERHUMAN\" remote -v)",
      "Bash(timeout:*)",
      "Bash(ping:*)",
      "Bash(git -C \"C:/Users/nicho/PycharmProjects/HYPERHUMAN\" add backend/app/api/campaigns.py frontend/app/campaigns/page.tsx frontend/types/index.ts)",
      "Bash(git -C \"C:/Users/nicho/PycharmProjects/HYPERHUMAN\" commit -m \"feat: populate verticals array on campaigns API, re-enable frontend filters\n\nBackend:\n- Add VerticalBrief import to campaigns.py\n- Query campaign_version_verticals junction table for each campaign''s latest version\n- Join with verticals table to get vertical names\n- Populate verticals field in CampaignResponse\n\nFrontend:\n- Add VerticalBrief type to types/index.ts\n- Add verticals field to Campaign interface\n- Re-enable Business Scope filter using campaign.verticals array\n- Re-enable Vertical filter using campaign.verticals array\n- Update useMemo dependencies for filter reactivity\")",
      "Bash(git -C \"C:/Users/nicho/PycharmProjects/HYPERHUMAN\" add backend/app/services/relevance_judge.py)",
      "Bash(git -C \"C:/Users/nicho/PycharmProjects/HYPERHUMAN\" commit -m \"fix: relevance judge now rejects login/utility pages\n\nUpdated prompt to explicitly score 0-1 for:\n- Login, signup, register, authentication pages\n- Password reset, account recovery pages\n- Error/404/maintenance pages\n- Account settings, profile, dashboard pages\n- Cookie consent, privacy policy, ToS pages\n- Generic homepages without product info\n\nThis prevents utility pages from passing relevance filter\neven when URL/domain matches scope keywords.\")",
      "Bash(git rebase:*)",
      "Bash(GIT_EDITOR=true git rebase:*)",
      "Bash(git stash:*)",
      "mcp__plugin_context7_context7__resolve-library-id",
      "mcp__plugin_context7_context7__query-docs",
      "Bash(poetry add:*)",
      "Bash(pip install:*)",
      "Bash(git worktree:*)",
      "Bash(git log:*)",
      "Bash(cd:*)",
      "Bash(az containerapp:*)",
      "Bash(az account:*)",
      "Bash(az group:*)",
      "Bash(nslookup:*)",
      "Bash(az version:*)",
      "Bash(az extension:*)"
    ],
    "deny": [],
    "ask": []
  },
  "enableAllProjectMcpServers": true,
  "enabledMcpjsonServers": [
    "supabase"
  ]
}
